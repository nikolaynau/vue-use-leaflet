import{t as r,d as F,l as M,i as n,n as m,c as O,u as T}from"./index-EniEsKef.js";import{u as $}from"./index-p2Z0r7Du.js";import{u as b}from"./index-g7JvZzO7.js";import{u as A}from"./index-hrmxfCrV.js";import{h as l,d as R,i as E,n as j,o as q,c as G,a as k,t as x,f as H,F as J}from"./index-CaiZ4ldM.js";function B(y,p={}){const{bgPos:s,iconAnchor:v,iconSize:o,className:h,knownClasses:L,watch:g,factory:u,...z}=p,f=r(y),d=r(s),a=r(v),_=r(o),C=r(h),S=r(()=>[...O(L)??[],"leaflet-zoom-animated","leaflet-zoom-hide","leaflet-interactive"]),t=F(D,{watch:g});function D(){const e=typeof u=="function"?u(I()):new M.DivIcon(I());return P(e)}function I(){const e={...z};return n(f)&&(e.html=f.value),n(d)&&(e.bgPos=d.value),n(a)&&(e.iconAnchor=a.value),n(_)&&(e.iconSize=_.value),n(C)&&(e.className=C.value),e}function P(e){const i=e.createIcon;return e.createIcon=function(N){return this._iconElement=i.call(this,N),this._iconElement},e}function c(e){const i=e._iconElement;if(i){const N=S.value,V=[...i.classList].filter(w=>N.includes(w));e.createIcon(i),V.forEach(w=>i.classList.add(w))}}return m(y)&&l(f,e=>{n(t)&&(t.value.options.html=e,c(t.value))}),m(s)&&l(d,e=>{n(t)&&(t.value.options.bgPos=e,c(t.value))}),m(o)&&l(_,e=>{n(t)&&(t.value.options.iconSize=e,c(t.value))}),m(v)&&l(a,e=>{n(t)&&(t.value.options.iconAnchor=e,c(t.value))}),m(h)&&l(C,e=>{n(t)&&(t.value.options.className=e,c(t.value))}),l(S,()=>{n(t)&&c(t.value)},{deep:!0}),t}const K=k("br",null,null,-1),Z=R({__name:"demo",setup(y){const p=E(null),s=T(p),v=$("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");A(s,v);const o=E(10),h=j(()=>`<div>${o.value}</div>`),L=B(h,{iconSize:[26,26],iconAnchor:[13,13],className:"counter-marker"}),g=b([0,0],{icon:L});A(s,g);const u=E(null),z=B(u,{iconSize:[20,20],iconAnchor:[10,10],className:"counter-marker"}),f=b([-25,-25],{icon:z});return A(s,f),(d,a)=>(q(),G(J,null,[k("div",{ref_key:"el",ref:p,style:{height:"21rem"}},null,512),k("div",{ref_key:"iconEl",ref:u},x(o.value),513),K,k("button",{onClick:a[0]||(a[0]=_=>o.value++)},"Increment Counter"),H(" Counter: "+x(o.value),1)],64))}});export{Z as default};
