import{t,b as M,l as T,i as n,u as $,a as F}from"./index-ddc28b1d.js";import{u as N}from"./index-928f4096.js";import{u as C}from"./index-165bc550.js";import{h as a,d as O,i as x,o as V,c as H,a as A,f as j,t as q,F as G}from"./index-7f3ae809.js";function J(E,u={}){const{iconRetinaUrl:c,iconAnchor:f,iconSize:s,shadowUrl:h,shadowRetinaUrl:p,shadowSize:w,shadowAnchor:l,factory:v,...b}=u,_=t(E),U=t(c),S=t(f),g=t(s),y=t(h),z=t(p),I=t(w),L=t(l),o=M(B,{watch:_});function B(){const e=typeof v=="function"?v(R()):new T.Icon(R());return D(e)}function R(){const e={...b};return e.iconUrl=_.value,n(U)&&(e.iconRetinaUrl=U.value),n(S)&&(e.iconAnchor=S.value),n(g)&&(e.iconSize=g.value),n(y)&&(e.shadowUrl=y.value),n(z)&&(e.shadowRetinaUrl=z.value),n(I)&&(e.shadowSize=I.value),n(L)&&(e.shadowAnchor=L.value),e}function D(e){const i=e.createIcon,r=e.createShadow;return e.createIcon=function(k){return this._iconElement=i.call(this,k),this._iconElement},e.createShadow=function(k){return this._shadowElement=r.call(this,k),this._shadowElement},e}function d(e,i){const r=e[`_${i}Element`];r instanceof HTMLImageElement&&(r.src=e._getIconUrl(i))}function m(e,i){const r=e[`_${i}Element`];r&&e._setIconStyles(r,i)}return a(_,e=>{n(o)&&(o.value.options.iconUrl=e??"",d(o.value,"icon"))}),n(c)&&a(U,e=>{n(o)&&(o.value.options.iconRetinaUrl=e??"",d(o.value,"icon"))}),n(s)&&a(g,e=>{n(o)&&(o.value.options.iconSize=e,m(o.value,"icon"))}),n(f)&&a(S,e=>{n(o)&&(o.value.options.iconAnchor=e,m(o.value,"icon"))}),n(h)&&a(y,e=>{n(o)&&(o.value.options.shadowUrl=e??"",d(o.value,"shadow"))}),n(p)&&a(z,e=>{n(o)&&(o.value.options.shadowRetinaUrl=e??"",d(o.value,"shadow"))}),n(w)&&a(I,e=>{n(o)&&(o.value.options.shadowSize=e,m(o.value,"shadow"))}),n(l)&&a(L,e=>{n(o)&&(o.value.options.shadowAnchor=e,m(o.value,"shadow"))}),o}const K=A("br",null,null,-1),Y=O({__name:"demo",setup(E){const u=x(null),c=$(u),f=F("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");C(c,f);const s=x("custom/marker-icon.png"),h=J(s,{iconSize:[32,42],iconAnchor:[16,42]}),p=N([0,0],{icon:h});return C(c,p),(w,l)=>(V(),H(G,null,[A("div",{ref_key:"el",ref:u,style:{height:"21rem"}},null,512),K,A("button",{onClick:l[0]||(l[0]=v=>s.value="custom/marker-icon-alt.png")}," Change Icon Image "),j(" Icon Url: "+q(s.value),1)],64))}});export{Y as default};
