import{i as c,l as m,d as B,r as N,o as b,c as G,a as o,f as L,j as J,k as O,u as _,t as j,F as C}from"./index-019dbae4.js";import{t as R,n as h,d as V,l as S,i as z,u as E}from"./index-a672d8d6.js";import{u as M}from"./index-8be092a2.js";import{u as w}from"./index-c72a364c.js";function P(g,n={}){const{style:r,error:u,watchDeep:p,updateSources:t=[],factory:l,dispose:v,...i}=n,a=R(g),d=c(u),y=c(r);t.push({watch:a,handler:(e,s)=>{if(e.clearLayers(),h(s)){const F=m(s);try{e.addData(F),d.value=null}catch(x){d.value=x}}},options:{deep:p}}),h(r)&&t.push({watch:y,handler:(e,s)=>{e.options.style=s,h(s)?e.setStyle(s):e.resetStyle()},options:{deep:!0}});const k=V(D,{updateSources:t,dispose:v});function D(){if(l)return l(m(a.value),f());try{return new S.GeoJSON(m(a.value),f())}catch(e){return d.value=e,new S.GeoJSON(void 0,f())}}function f(){const e={...i};return z(y)&&(e.style=y.value),e}return k}const T=o("br",null,null,-1),U=o("option",{value:"green"},"Green",-1),q=o("option",{value:"blue"},"Blue",-1),A=o("option",{value:"red"},"Red",-1),H=o("option",{value:"black"},"Black",-1),I=[U,q,A,H],Y=B({__name:"demo",setup(g){const n=c(null),r=E(n,{zoom:2}),u=M("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");w(r,u);const p=c({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[0,0]},properties:{name:"a"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[0,0],[-10,-10],[-20,-20]]},properties:{name:"b"}},{type:"Feature",geometry:{type:"Point",coordinates:[-20,-20]},properties:{name:"c"}}]}),t=N({color:"green"}),l=P(p,{style:t});return w(r,l),(v,i)=>(b(),G(C,null,[o("div",{ref_key:"el",ref:n,style:{height:"21rem"}},null,512),T,o("div",null,[L(" Color: "),J(o("select",{"onUpdate:modelValue":i[0]||(i[0]=a=>_(t).color=a)},I,512),[[O,_(t).color]]),L(" Selected: "+j(_(t).color),1)])],64))}});export{Y as default};
