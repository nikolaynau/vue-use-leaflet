import{t as a,d as V,l as b,i as n,n as l,c as j}from"./index-49476acb.js";import{h as t}from"./index-4f0d5129.js";function F(x,O={}){const{iconRetinaUrl:z,iconAnchor:E,iconSize:R,shadowUrl:A,shadowRetinaUrl:I,shadowSize:C,shadowAnchor:L,className:N,knownClasses:$,factory:k,...D}=O,f=a(x),h=a(z),d=a(E),w=a(R),v=a(A),p=a(I),_=a(C),m=a(L),U=a(N),y=a(()=>[...j($)??[],"leaflet-zoom-animated","leaflet-zoom-hide","leaflet-interactive"]),e=V(H,{watch:f});function H(){const o=typeof k=="function"?k(g()):new b.Icon(g());return M(o)}function g(){const o={...D};return o.iconUrl=f.value,n(h)&&(o.iconRetinaUrl=h.value),n(d)&&(o.iconAnchor=d.value),n(w)&&(o.iconSize=w.value),n(v)&&(o.shadowUrl=v.value),n(p)&&(o.shadowRetinaUrl=p.value),n(_)&&(o.shadowSize=_.value),n(m)&&(o.shadowAnchor=m.value),n(U)&&(o.className=U.value),o}function M(o){const c=o.createIcon,i=o.createShadow;return o.createIcon=function(r){return this._iconElement=c.call(this,r),this._iconElement},o.createShadow=function(r){return this._shadowElement=i.call(this,r),this._shadowElement},o}function u(o,c){const i=o[`_${c}Element`];i instanceof HTMLImageElement&&(i.src=o._getIconUrl(c))}function s(o,c){const i=o[`_${c}Element`];if(i){const r=y.value,T=[...i.classList].filter(S=>r.includes(S));o._setIconStyles(i,c),T.forEach(S=>i.classList.add(S))}}return t(f,o=>{n(e)&&(e.value.options.iconUrl=o??"",u(e.value,"icon"))}),l(z)&&t(h,o=>{n(e)&&(e.value.options.iconRetinaUrl=o??"",u(e.value,"icon"))}),l(R)&&t(w,o=>{n(e)&&(e.value.options.iconSize=o,s(e.value,"icon"))}),l(E)&&t(d,o=>{n(e)&&(e.value.options.iconAnchor=o,s(e.value,"icon"))}),l(A)&&t(v,o=>{n(e)&&(e.value.options.shadowUrl=o??"",u(e.value,"shadow"))}),l(I)&&t(p,o=>{n(e)&&(e.value.options.shadowRetinaUrl=o??"",u(e.value,"shadow"))}),l(C)&&t(_,o=>{n(e)&&(e.value.options.shadowSize=o,s(e.value,"shadow"))}),l(L)&&t(m,o=>{n(e)&&(e.value.options.shadowAnchor=o,s(e.value,"shadow"))}),l(N)&&t(U,o=>{n(e)&&(e.value.options.className=o,s(e.value,"icon"),s(e.value,"shadow"))}),t(y,()=>{n(e)&&(s(e.value,"icon"),s(e.value,"shadow"))}),e}export{F as u};
