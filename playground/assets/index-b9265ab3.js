import{t,b,l as k,i as e}from"./index-8c4855d2.js";import{h as i}from"./index-668797d6.js";function M(L,g={}){const{iconRetinaUrl:m,iconAnchor:S,iconSize:R,shadowUrl:z,shadowRetinaUrl:A,shadowSize:E,shadowAnchor:I,className:y,factory:N,...x}=g,r=t(L),u=t(m),f=t(S),h=t(R),w=t(z),d=t(A),v=t(E),p=t(I),_=t(y),n=b(O,{watch:r});function O(){const o=typeof N=="function"?N(C()):new k.Icon(C());return $(o)}function C(){const o={...x};return o.iconUrl=r.value,e(u)&&(o.iconRetinaUrl=u.value),e(f)&&(o.iconAnchor=f.value),e(h)&&(o.iconSize=h.value),e(w)&&(o.shadowUrl=w.value),e(d)&&(o.shadowRetinaUrl=d.value),e(v)&&(o.shadowSize=v.value),e(p)&&(o.shadowAnchor=p.value),e(_)&&(o.className=_.value),o}function $(o){const a=o.createIcon,l=o.createShadow;return o.createIcon=function(U){return this._iconElement=a.call(this,U),this._iconElement},o.createShadow=function(U){return this._shadowElement=l.call(this,U),this._shadowElement},o}function s(o,a){const l=o[`_${a}Element`];l instanceof HTMLImageElement&&(l.src=o._getIconUrl(a))}function c(o,a){const l=o[`_${a}Element`];l&&o._setIconStyles(l,a)}return i(r,o=>{e(n)&&(n.value.options.iconUrl=o??"",s(n.value,"icon"))}),m!=null&&i(u,o=>{e(n)&&(n.value.options.iconRetinaUrl=o??"",s(n.value,"icon"))}),R!=null&&i(h,o=>{e(n)&&(n.value.options.iconSize=o,c(n.value,"icon"))}),S!=null&&i(f,o=>{e(n)&&(n.value.options.iconAnchor=o,c(n.value,"icon"))}),z!=null&&i(w,o=>{e(n)&&(n.value.options.shadowUrl=o??"",s(n.value,"shadow"))}),A!=null&&i(d,o=>{e(n)&&(n.value.options.shadowRetinaUrl=o??"",s(n.value,"shadow"))}),E!=null&&i(v,o=>{e(n)&&(n.value.options.shadowSize=o,c(n.value,"shadow"))}),I!=null&&i(p,o=>{e(n)&&(n.value.options.shadowAnchor=o,c(n.value,"shadow"))}),y!=null&&i(_,o=>{e(n)&&(n.value.options.className=o,c(n.value,"icon"),c(n.value,"shadow"))}),n}export{M as u};
