import{t,b as $,l as b,i as n}from"./index-335775a6.js";import{h as i}from"./index-49ba1305.js";function H(C,L={}){const{iconRetinaUrl:_,iconAnchor:S,iconSize:m,shadowUrl:z,shadowRetinaUrl:R,shadowSize:A,shadowAnchor:E,factory:I,...g}=L,l=t(C),u=t(_),f=t(S),h=t(m),w=t(z),d=t(R),v=t(A),p=t(E),e=$(x,{watch:l});function x(){const o=typeof I=="function"?I(y()):new b.Icon(y());return O(o)}function y(){const o={...g};return o.iconUrl=l.value,n(u)&&(o.iconRetinaUrl=u.value),n(f)&&(o.iconAnchor=f.value),n(h)&&(o.iconSize=h.value),n(w)&&(o.shadowUrl=w.value),n(d)&&(o.shadowRetinaUrl=d.value),n(v)&&(o.shadowSize=v.value),n(p)&&(o.shadowAnchor=p.value),o}function O(o){const a=o.createIcon,r=o.createShadow;return o.createIcon=function(U){return this._iconElement=a.call(this,U),this._iconElement},o.createShadow=function(U){return this._shadowElement=r.call(this,U),this._shadowElement},o}function c(o,a){const r=o[`_${a}Element`];r instanceof HTMLImageElement&&(r.src=o._getIconUrl(a))}function s(o,a){const r=o[`_${a}Element`];r&&o._setIconStyles(r,a)}return i(l,o=>{n(e)&&(e.value.options.iconUrl=o??"",c(e.value,"icon"))}),n(_)&&i(u,o=>{n(e)&&(e.value.options.iconRetinaUrl=o??"",c(e.value,"icon"))}),n(m)&&i(h,o=>{n(e)&&(e.value.options.iconSize=o,s(e.value,"icon"))}),n(S)&&i(f,o=>{n(e)&&(e.value.options.iconAnchor=o,s(e.value,"icon"))}),n(z)&&i(w,o=>{n(e)&&(e.value.options.shadowUrl=o??"",c(e.value,"shadow"))}),n(R)&&i(d,o=>{n(e)&&(e.value.options.shadowRetinaUrl=o??"",c(e.value,"shadow"))}),n(A)&&i(v,o=>{n(e)&&(e.value.options.shadowSize=o,s(e.value,"shadow"))}),n(E)&&i(p,o=>{n(e)&&(e.value.options.shadowAnchor=o,s(e.value,"shadow"))}),e}export{H as u};
