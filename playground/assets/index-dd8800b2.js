import{t,d as V,l as b,i as n,n as l,c as j}from"./index-ed878e1d.js";import{h as a}from"./index-874b5c23.js";function F(x,O={}){const{iconRetinaUrl:z,iconAnchor:E,iconSize:R,shadowUrl:A,shadowRetinaUrl:I,shadowSize:C,shadowAnchor:L,className:N,knownClasses:$,factory:k,...D}=O,f=t(x),h=t(z),d=t(E),w=t(R),v=t(A),p=t(I),_=t(C),m=t(L),U=t(N),y=t(()=>[...j($)??[],"leaflet-zoom-animated","leaflet-zoom-hide","leaflet-interactive"]),o=V(H,{watch:f});function H(){const e=typeof k=="function"?k(g()):new b.Icon(g());return M(e)}function g(){const e={...D};return e.iconUrl=f.value,n(h)&&(e.iconRetinaUrl=h.value),n(d)&&(e.iconAnchor=d.value),n(w)&&(e.iconSize=w.value),n(v)&&(e.shadowUrl=v.value),n(p)&&(e.shadowRetinaUrl=p.value),n(_)&&(e.shadowSize=_.value),n(m)&&(e.shadowAnchor=m.value),n(U)&&(e.className=U.value),e}function M(e){const c=e.createIcon,i=e.createShadow;return e.createIcon=function(r){return this._iconElement=c.call(this,r),this._iconElement},e.createShadow=function(r){return this._shadowElement=i.call(this,r),this._shadowElement},e}function u(e,c){const i=e[`_${c}Element`];i instanceof HTMLImageElement&&(i.src=e._getIconUrl(c))}function s(e,c){const i=e[`_${c}Element`];if(i){const r=y.value,T=[...i.classList].filter(S=>r.includes(S));e._setIconStyles(i,c),T.forEach(S=>i.classList.add(S))}}return a(f,e=>{n(o)&&(o.value.options.iconUrl=e??"",u(o.value,"icon"))}),l(z)&&a(h,e=>{n(o)&&(o.value.options.iconRetinaUrl=e??"",u(o.value,"icon"))}),l(R)&&a(w,e=>{n(o)&&(o.value.options.iconSize=e,s(o.value,"icon"))}),l(E)&&a(d,e=>{n(o)&&(o.value.options.iconAnchor=e,s(o.value,"icon"))}),l(A)&&a(v,e=>{n(o)&&(o.value.options.shadowUrl=e??"",u(o.value,"shadow"))}),l(I)&&a(p,e=>{n(o)&&(o.value.options.shadowRetinaUrl=e??"",u(o.value,"shadow"))}),l(C)&&a(_,e=>{n(o)&&(o.value.options.shadowSize=e,s(o.value,"shadow"))}),l(L)&&a(m,e=>{n(o)&&(o.value.options.shadowAnchor=e,s(o.value,"shadow"))}),l(N)&&a(U,e=>{n(o)&&(o.value.options.className=e,s(o.value,"icon"),s(o.value,"shadow"))}),a(y,()=>{n(o)&&(s(o.value,"icon"),s(o.value,"shadow"))},{deep:!0}),o}export{F as u};
