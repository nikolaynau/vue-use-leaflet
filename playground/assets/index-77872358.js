import{t,a as D,l as H,i as n,n as a}from"./index-a93e3548.js";import{h as i}from"./index-84a01c72.js";function b(g,x={}){const{iconRetinaUrl:S,iconAnchor:R,iconSize:z,shadowUrl:A,shadowRetinaUrl:E,shadowSize:I,shadowAnchor:N,className:y,factory:C,...O}=x,u=t(g),f=t(S),h=t(R),w=t(z),d=t(A),v=t(E),p=t(I),_=t(N),U=t(y),e=D($,{watch:u});function $(){const o=typeof C=="function"?C(L()):new H.Icon(L());return k(o)}function L(){const o={...O};return o.iconUrl=u.value,n(f)&&(o.iconRetinaUrl=f.value),n(h)&&(o.iconAnchor=h.value),n(w)&&(o.iconSize=w.value),n(d)&&(o.shadowUrl=d.value),n(v)&&(o.shadowRetinaUrl=v.value),n(p)&&(o.shadowSize=p.value),n(_)&&(o.shadowAnchor=_.value),n(U)&&(o.className=U.value),o}function k(o){const s=o.createIcon,c=o.createShadow;return o.createIcon=function(m){return this._iconElement=s.call(this,m),this._iconElement},o.createShadow=function(m){return this._shadowElement=c.call(this,m),this._shadowElement},o}function l(o,s){const c=o[`_${s}Element`];c instanceof HTMLImageElement&&(c.src=o._getIconUrl(s))}function r(o,s){const c=o[`_${s}Element`];c&&o._setIconStyles(c,s)}return i(u,o=>{n(e)&&(e.value.options.iconUrl=o??"",l(e.value,"icon"))}),a(S)&&i(f,o=>{n(e)&&(e.value.options.iconRetinaUrl=o??"",l(e.value,"icon"))}),a(z)&&i(w,o=>{n(e)&&(e.value.options.iconSize=o,r(e.value,"icon"))}),a(R)&&i(h,o=>{n(e)&&(e.value.options.iconAnchor=o,r(e.value,"icon"))}),a(A)&&i(d,o=>{n(e)&&(e.value.options.shadowUrl=o??"",l(e.value,"shadow"))}),a(E)&&i(v,o=>{n(e)&&(e.value.options.shadowRetinaUrl=o??"",l(e.value,"shadow"))}),a(I)&&i(p,o=>{n(e)&&(e.value.options.shadowSize=o,r(e.value,"shadow"))}),a(N)&&i(_,o=>{n(e)&&(e.value.options.shadowAnchor=o,r(e.value,"shadow"))}),a(y)&&i(U,o=>{n(e)&&(e.value.options.className=o,r(e.value,"icon"),r(e.value,"shadow"))}),e}export{b as u};
