import{i as c,l as m,d as x,r as B,o as N,c as b,a as o,f as v,j as G,k as J,t as O,F as j}from"./index-6ab6c15c.js";import{t as C,n as _,g as R,l as L,i as V,u as z}from"./index-c46cd34b.js";import{u as E}from"./index-f80739fb.js";import{u as S}from"./index-8d66873c.js";function M(h,n={}){const{style:r,error:u,watchDeep:p,updateSources:t=[],factory:l,dispose:g,...i}=n,a=C(h),d=c(u),y=c(r);t.push({watch:a,handler:(e,s)=>{if(e.clearLayers(),_(s)){const D=m(s);try{e.addData(D),d.value=null}catch(F){d.value=F}}},options:{deep:p}}),_(r)&&t.push({watch:y,handler:(e,s)=>{e.options.style=s,_(s)?e.setStyle(s):e.resetStyle()},options:{deep:!0}});const w=R(k,{updateSources:t,dispose:g});function k(){if(l)return l(m(a.value),f());try{return new L.GeoJSON(m(a.value),f())}catch(e){return d.value=e,new L.GeoJSON(void 0,f())}}function f(){const e={...i};return V(y)&&(e.style=y.value),e}return w}const P=o("br",null,null,-1),T=o("option",{value:"green"},"Green",-1),U=o("option",{value:"blue"},"Blue",-1),q=o("option",{value:"red"},"Red",-1),A=o("option",{value:"black"},"Black",-1),H=[T,U,q,A],X=x({__name:"demo",setup(h){const n=c(null),r=z(n,{zoom:2}),u=E("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");S(r,u);const p=c({type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[0,0]},properties:{name:"a"}},{type:"Feature",geometry:{type:"LineString",coordinates:[[0,0],[-10,-10],[-20,-20]]},properties:{name:"b"}},{type:"Feature",geometry:{type:"Point",coordinates:[-20,-20]},properties:{name:"c"}}]}),t=B({color:"green"}),l=M(p,{style:t});return S(r,l),(g,i)=>(N(),b(j,null,[o("div",{ref_key:"el",ref:n,style:{height:"21rem"}},null,512),P,o("div",null,[v(" Color: "),G(o("select",{"onUpdate:modelValue":i[0]||(i[0]=a=>t.color=a)},H,512),[[J,t.color]]),v(" Selected: "+O(t.color),1)])],64))}});export{X as default};
