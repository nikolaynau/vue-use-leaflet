import{t as d,l as p,n as r,d as z,i as h,u as D}from"./index-1d484b1b.js";import{u as F}from"./index-fc816339.js";import{i as P,l as a,d as R,z as S,o as U,c as W,a as x,F as M}from"./index-ce8cab1b.js";import{u as B}from"./index-6f813d11.js";function T(u,c={}){const{offset:l,content:i,className:s,source:_,defOptions:L,updateSources:n=[],factory:o,dispose:C,...E}=c,f=d(u),v=d(l),y=d(s),N=P(i),g=d(_),w=L??p.Popup.prototype.options;r(u)&&n.push({watch:f,handler:(e,t)=>{t&&e.setLatLng(a(t))}}),r(l)&&n.push({watch:v,handler:(e,t)=>{e.options.offset=a(t)??w.offset,e.update()}}),r(i)&&n.push({watch:N,handler:(e,t)=>{e.setContent(t??w.content)}}),r(s)&&n.push({watch:y,handler:(e,t,O)=>{e.options.className=t??w.className;const k=e.getElement();k&&(O&&k.classList.remove(...p.Util.splitWords(O)),e.options.className&&k.classList.add(...p.Util.splitWords(e.options.className)))}});const $=z(b,{watch:r(u)?f:void 0,updateSources:n,dispose:C});function b(){return h(g)?o?o(m(),a(g.value)):new p.Popup(m(),a(g.value)):o?o(a(f.value),m()):new p.Popup(a(f.value),m())}function m(){const e={...E};return h(v)&&(e.offset=a(v.value)),h(y)&&(e.className=y.value),h(N)&&(e.content=N.value),e}return $}const j=x("br",null,null,-1),I=R({__name:"demo",setup(u){const c=P(null),l=D(c),i=F("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");B(l,i);const s=P([0,0]),_=S(()=>`LatLng: ${s.value[0]},${s.value[1]}`),L=T(s,{content:_});return B(l,L),(n,o)=>(U(),W(M,null,[x("div",{ref_key:"el",ref:c,style:{height:"21rem"}},null,512),j,x("button",{onClick:o[0]||(o[0]=C=>s.value=[-10,-10])},"Change Position")],64))}});export{I as default};
