import{l as _,t as i,d as E,i as f,m as l,c as M}from"./index-4e39c2b1.js";import{h as o,B as R}from"./index-d1902126.js";function Z(b,k={}){const{icon:g,opacity:p,zIndexOffset:v,draggable:m,factory:I,update:w,dispose:h,defIcon:L=new _.Icon.Default,...z}=k,n=i(b),c=i(g),u=i(p),r=i(v),d=i(m),t=E(D,{watch:n,update:w,dispose:h});function D(){return I?I(n.value,y()):new _.Marker(n.value,y())}function y(){const e={...z};return f(c)&&(e.icon=c.value),f(u)&&(e.opacity=u.value),f(r)&&(e.zIndexOffset=r.value),f(d)&&(e.draggable=d.value),e}return o(n,e=>{var a;e!=null&&((a=t.value)==null||a.setLatLng(e))}),l(g)&&o(c,e=>{var a,s;e?(a=t.value)==null||a.setIcon(e):L&&((s=t.value)==null||s.setIcon(L))}),l(p)&&o(u,e=>{var a;e!=null&&((a=t.value)==null||a.setOpacity(e))}),l(v)&&o(r,e=>{var a;e!=null&&((a=t.value)==null||a.setZIndexOffset(e))}),l(m)&&(o(d,e=>{var a,s,O,x;e?(s=(a=t.value)==null?void 0:a.dragging)==null||s.enable():(x=(O=t.value)==null?void 0:O.dragging)==null||x.disable()}),M(t,"moveend",()=>{!R(n)&&f(t)&&(n.value=t.value.getLatLng().clone())})),t}export{Z as u};
