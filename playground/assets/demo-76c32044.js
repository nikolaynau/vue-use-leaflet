import{t as a,l as u,n as i,g as $,a as q,i as p,u as G}from"./index-c46cd34b.js";import{u as J}from"./index-f80739fb.js";import{l as f,d as P,i as j,o as Q,c as X,a as O,F as Y}from"./index-6ab6c15c.js";import{u as D}from"./index-8d66873c.js";function ee(R,d,m={}){const{autoplay:h,loop:r,keepAspectRatio:y,muted:v,playsInline:c,opacity:w,zIndex:U,className:B,factory:z,dispose:M,defOptions:T,updateSources:s=[],...W}=m,_=a(R),g=a(d),E=a(h),x=a(r),I=a(y),L=a(v),b=a(c),k=a(w),N=a(U),A=a(B),n=T??u.VideoOverlay.prototype.options;s.push({watch:_,handler:(e,t)=>{typeof t=="string"?e.setUrl(t):Array.isArray(t)?V(e,t):t instanceof HTMLVideoElement&&V(e,Z(t))}}),s.push({watch:g,handler:(e,t)=>{t&&e.setBounds(f(t))}}),i(h)&&s.push({watch:E,handler:(e,t)=>{e.options.autoplay=t??n.autoplay;const o=e.getElement();o&&(o.autoplay=!!e.options.autoplay)}}),i(r)&&s.push({watch:x,handler:(e,t)=>{e.options.loop=t??n.loop;const o=e.getElement();o&&(o.loop=!!e.options.loop)}}),i(y)&&s.push({watch:I,handler:(e,t)=>{e.options.keepAspectRatio=t??n.keepAspectRatio;const o=e.getElement();o&&o.style.objectFit!==void 0&&(o.style.objectFit=e.options.keepAspectRatio?"":"fill")}}),i(v)&&s.push({watch:L,handler:(e,t)=>{e.options.muted=t??n.muted;const o=e.getElement();o&&(o.muted=!!e.options.muted)}}),i(c)&&s.push({watch:b,handler:(e,t)=>{e.options.playsInline=t??n.playsInline;const o=e.getElement();o&&(o.playsInline=!!e.options.playsInline)}}),i(w)&&s.push({watch:k,handler:(e,t)=>{e.setOpacity(t??n.opacity)}}),i(U)&&s.push({watch:N,handler:(e,t)=>{e.setZIndex(t??n.zIndex)}}),i(B)&&s.push({watch:A,handler:(e,t,o)=>{e.options.className=t??n.className;const l=e.getElement();l&&(o&&l.classList.remove(...u.Util.splitWords(o)),e.options.className&&l.classList.add(...u.Util.splitWords(e.options.className)))}});const S=$(H,{watch:q(_,g),updateSources:s,dispose:M});function H(){return z?z(f(_.value),f(g.value),C()):new u.VideoOverlay(f(_.value),f(g.value),C())}function C(){const e={...W};return p(E)&&(e.autoplay=E.value),p(x)&&(e.loop=x.value),p(I)&&(e.keepAspectRatio=I.value),p(L)&&(e.muted=L.value),p(b)&&(e.playsInline=b.value),p(k)&&(e.opacity=k.value),p(N)&&(e.zIndex=N.value),p(A)&&(e.className=A.value),e}function K(e,t){e.replaceChildren();for(let o=0;o<t.length;o++){const l=t[o];if(l){const F=u.DomUtil.create("source");F.src=l,e.appendChild(F)}}}function Z(e){const t=e.getElementsByTagName("source"),o=[];for(let l=0;l<t.length;l++)o.push(t[l].src);return t.length>0?o:[e.src]}function V(e,t){e._url=t;const o=e.getElement();o&&K(o,t)}return S}const te=O("br",null,null,-1),ne=P({__name:"demo",setup(R){const d=j(null),m=G(d,{center:[-10,-10],zoom:3}),h=J("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");D(m,h);const r=j("https://labs.mapbox.com/bites/00188/patricia_nasa.webm"),y=ee(r,[[0,0],[-20,-20]]);return D(m,y),(v,c)=>(Q(),X(Y,null,[O("div",{ref_key:"el",ref:d,style:{height:"21rem"}},null,512),te,O("button",{onClick:c[0]||(c[0]=w=>r.value="https://file-examples.com/storage/fe0d875dfd645260e96b346/2020/03/file_example_WEBM_480_900KB.webm")}," Change Video ")],64))}});export{ne as default};
