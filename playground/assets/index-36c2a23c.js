import{l as x,t as f,d as D,i as n,c as E}from"./index-6fe777f4.js";import{h as o,B as M}from"./index-43f8f60f.js";function S(_,b={}){const{icon:d,opacity:g,zIndexOffset:p,draggable:v,factory:I,update:k,dispose:w,defIcon:L=new x.Icon.Default,...h}=b,s=f(_),l=f(d),c=f(g),u=f(p),r=f(v),t=D(z,{watch:s,update:k,dispose:w});function z(){return I?I(s.value,m()):new x.Marker(s.value,m())}function m(){const e={...h};return n(l)&&(e.icon=l.value),n(c)&&(e.opacity=c.value),n(u)&&(e.zIndexOffset=u.value),n(r)&&(e.draggable=r.value),e}return o(s,e=>{var a;e!=null&&((a=t.value)==null||a.setLatLng(e))}),n(d)&&o(l,e=>{var a,i;e?(a=t.value)==null||a.setIcon(e):L&&((i=t.value)==null||i.setIcon(L))}),n(g)&&o(c,e=>{var a;e!=null&&((a=t.value)==null||a.setOpacity(e))}),n(p)&&o(u,e=>{var a;e!=null&&((a=t.value)==null||a.setZIndexOffset(e))}),n(v)&&(o(r,e=>{var a,i,y,O;e?(i=(a=t.value)==null?void 0:a.dragging)==null||i.enable():(O=(y=t.value)==null?void 0:y.dragging)==null||O.disable()}),E(t,"moveend",()=>{!M(s)&&n(t)&&(s.value=t.value.getLatLng().clone())})),t}export{S as u};
