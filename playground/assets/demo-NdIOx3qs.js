import{t as r,c as F,i as n,n as m,b as M,u as O}from"./index-XMFbUhFf.js";import{u as T}from"./index-7TvEzIek.js";import{u as I}from"./index-2RwKIkw1.js";import{u as A}from"./index-_zfS4-SC.js";import{l as $,h as l,d as R,i as E,p as j,o as q,c as G,a as k,t as x,f as H,F as J}from"./index-sEMHmT-4.js";function B(y,p={}){const{bgPos:s,iconAnchor:v,iconSize:o,className:h,knownClasses:L,watch:g,factory:u,...z}=p,f=r(y),_=r(s),a=r(v),d=r(o),C=r(h),S=r(()=>[...M(L)??[],"leaflet-zoom-animated","leaflet-zoom-hide","leaflet-interactive"]),t=F(D,{watch:g});function D(){const e=typeof u=="function"?u(b()):new $.DivIcon(b());return P(e)}function b(){const e={...z};return n(f)&&(e.html=f.value),n(_)&&(e.bgPos=_.value),n(a)&&(e.iconAnchor=a.value),n(d)&&(e.iconSize=d.value),n(C)&&(e.className=C.value),e}function P(e){const i=e.createIcon;return e.createIcon=function(N){return this._iconElement=i.call(this,N),this._iconElement},e}function c(e){const i=e._iconElement;if(i){const N=S.value,V=[...i.classList].filter(w=>N.includes(w));e.createIcon(i),V.forEach(w=>i.classList.add(w))}}return m(y)&&l(f,e=>{n(t)&&(t.value.options.html=e,c(t.value))}),m(s)&&l(_,e=>{n(t)&&(t.value.options.bgPos=e,c(t.value))}),m(o)&&l(d,e=>{n(t)&&(t.value.options.iconSize=e,c(t.value))}),m(v)&&l(a,e=>{n(t)&&(t.value.options.iconAnchor=e,c(t.value))}),m(h)&&l(C,e=>{n(t)&&(t.value.options.className=e,c(t.value))}),l(S,()=>{n(t)&&c(t.value)},{deep:!0}),t}const K=k("br",null,null,-1),Z=R({__name:"demo",setup(y){const p=E(null),s=O(p),v=T("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");A(s,v);const o=E(10),h=j(()=>`<div>${o.value}</div>`),L=B(h,{iconSize:[26,26],iconAnchor:[13,13],className:"counter-marker"}),g=I([0,0],{icon:L});A(s,g);const u=E(null),z=B(u,{iconSize:[20,20],iconAnchor:[10,10],className:"counter-marker"}),f=I([-25,-25],{icon:z});return A(s,f),(_,a)=>(q(),G(J,null,[k("div",{ref_key:"el",ref:p,style:{height:"21rem"}},null,512),k("div",{ref_key:"iconEl",ref:u},x(o.value),513),K,k("button",{onClick:a[0]||(a[0]=d=>o.value++)},"Increment Counter"),H(" Counter: "+x(o.value),1)],64))}});export{Z as default};
