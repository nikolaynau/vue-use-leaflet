import{t as f,b as T,l as S,i as g,f as b,d as E,u as $,a as F}from"./index-224bd8b6.js";import{h as p,A as R,d as V,i as k,o as A,c as P,a as s,f as D,t as I,F as Z}from"./index-d1d159a6.js";import{u as M}from"./index-cb9b28ce.js";function B(w,d={}){const{icon:o,opacity:v,zIndexOffset:m,draggable:i,factory:l,update:u,dispose:y,...L}=d,a=f(w),r=f(o),_=f(v),x=f(m),O=f(i),n=T(N,{watch:a,update:u,dispose:y});function N(){return l?l(a.value,h()):new S.Marker(a.value,h())}function h(){const e={...L};return g(r)&&(e.icon=r.value),g(_)&&(e.opacity=_.value),g(x)&&(e.zIndexOffset=x.value),g(O)&&(e.draggable=O.value),e}return p(a,e=>{var t;e!=null&&((t=n.value)==null||t.setLatLng(e))}),b(o)&&p(r,e=>{var t,c;e?(t=n.value)==null||t.setIcon(e):(c=n.value)==null||c.setIcon(new S.Icon.Default)}),b(v)&&p(_,e=>{var t;e!=null&&((t=n.value)==null||t.setOpacity(e))}),b(m)&&p(x,e=>{var t;e!=null&&((t=n.value)==null||t.setZIndexOffset(e))}),b(i)&&(p(O,e=>{var t,c,z,C;e?(c=(t=n.value)==null?void 0:t.dragging)==null||c.enable():(C=(z=n.value)==null?void 0:z.dragging)==null||C.disable()}),E(n,"moveend",()=>{!R(a)&&g(n)&&(a.value=n.value.getLatLng().clone())})),n}const j=s("br",null,null,-1),q=s("br",null,null,-1),G=s("br",null,null,-1),Q=V({__name:"demo",setup(w){const d=k(null),o=$(d),v=F("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");M(o,v);const m=B([0,0]);M(o,m);const i=k([-10,-10]),l=k(!0),u=k(1),y=B(i,{draggable:l,opacity:u});return M(o,y),E(y,"click",L=>{console.log("click:",L)}),(L,a)=>(A(),P(Z,null,[s("div",{ref_key:"el",ref:d,style:{height:"21rem"}},null,512),j,s("button",{onClick:a[0]||(a[0]=r=>l.value=!l.value)},"Toggle Draggable Marker"),D(" Draggable: "+I(l.value)+" ",1),q,s("button",{onClick:a[1]||(a[1]=r=>u.value=.5)},"Set Opacity"),D(" Opacity: "+I(u.value)+" ",1),G,s("button",{onClick:a[2]||(a[2]=r=>i.value=[-15,-15])},"Set New Position"),D(" LatLng: "+I(i.value),1)],64))}});export{Q as default};
