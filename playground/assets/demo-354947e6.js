import{t as a,l as u,n as i,d as K,e as Z,i as p,u as $}from"./index-ee39fce9.js";import{u as q}from"./index-ef27f8a1.js";import{z as f,d as G,i as j,o as J,c as P,a as O,F as Q}from"./index-d456ba88.js";import{u as D}from"./index-d4540f88.js";function X(R,d,m={}){const{autoplay:h,loop:r,keepAspectRatio:y,muted:v,playsInline:c,opacity:w,zIndex:z,className:B,updateSources:s=[],factory:U,dispose:M,...T}=m,_=a(R),g=a(d),E=a(h),x=a(r),I=a(y),L=a(v),b=a(c),k=a(w),N=a(z),A=a(B),n=u.VideoOverlay.prototype.options;s.push({watch:_,handler:(e,t)=>{if(typeof t=="string")e.setUrl(t);else if(Array.isArray(t)){e._url=t;const o=e.getElement();o&&V(o,t)}else if(t instanceof HTMLVideoElement){e._url=H(t);const o=e.getElement();o&&V(o,e._url)}}}),s.push({watch:g,handler:(e,t)=>{t&&e.setBounds(f(t))}}),i(h)&&s.push({watch:E,handler:(e,t)=>{e.options.autoplay=t??n.autoplay;const o=e.getElement();o&&(o.autoplay=!!e.options.autoplay)}}),i(r)&&s.push({watch:x,handler:(e,t)=>{e.options.loop=t??n.loop;const o=e.getElement();o&&(o.loop=!!e.options.loop)}}),i(y)&&s.push({watch:I,handler:(e,t)=>{e.options.keepAspectRatio=t??n.keepAspectRatio;const o=e.getElement();o&&o.style.objectFit!==void 0&&(o.style.objectFit=e.options.keepAspectRatio?"":"fill")}}),i(v)&&s.push({watch:L,handler:(e,t)=>{e.options.muted=t??n.muted;const o=e.getElement();o&&(o.muted=!!e.options.muted)}}),i(c)&&s.push({watch:b,handler:(e,t)=>{e.options.playsInline=t??n.playsInline;const o=e.getElement();o&&(o.playsInline=!!e.options.playsInline)}}),i(w)&&s.push({watch:k,handler:(e,t)=>{e.setOpacity(t??n.opacity)}}),i(z)&&s.push({watch:N,handler:(e,t)=>{e.setZIndex(t??n.zIndex)}}),i(B)&&s.push({watch:A,handler:(e,t,o)=>{e.options.className=t??n.className;const l=e.getElement();l&&(o&&l.classList.remove(...u.Util.splitWords(o)),e.options.className&&l.classList.add(...u.Util.splitWords(e.options.className)))}});const W=K(S,{watch:Z(_,g),updateSources:s,dispose:M});function S(){return U?U(f(_.value),f(g.value),C()):new u.VideoOverlay(f(_.value),f(g.value),C())}function C(){const e={...T};return p(E)&&(e.autoplay=E.value),p(x)&&(e.loop=x.value),p(I)&&(e.keepAspectRatio=I.value),p(L)&&(e.muted=L.value),p(b)&&(e.playsInline=b.value),p(k)&&(e.opacity=k.value),p(N)&&(e.zIndex=N.value),p(A)&&(e.className=A.value),e}function V(e,t){e.replaceChildren();for(let o=0;o<t.length;o++){const l=t[o];if(l){const F=u.DomUtil.create("source");F.src=l,e.appendChild(F)}}}function H(e){const t=e.getElementsByTagName("source"),o=[];for(let l=0;l<t.length;l++)o.push(t[l].src);return t.length>0?o:[e.src]}return W}const Y=O("br",null,null,-1),le=G({__name:"demo",setup(R){const d=j(null),m=$(d,{center:[-10,-10],zoom:3}),h=q("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png");D(m,h);const r=j("https://labs.mapbox.com/bites/00188/patricia_nasa.webm"),y=X(r,[[0,0],[-20,-20]]);return D(m,y),(v,c)=>(J(),P(Q,null,[O("div",{ref_key:"el",ref:d,style:{height:"21rem"}},null,512),Y,O("button",{onClick:c[0]||(c[0]=w=>r.value="https://file-examples.com/storage/fe0d875dfd645260e96b346/2020/03/file_example_WEBM_480_900KB.webm")}," Change Video ")],64))}});export{le as default};
